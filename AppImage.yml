app: PythonTurtle

ingredients:
  dist: trusty
  sources:
    - deb http://archive.ubuntu.com/ubuntu/ trusty main universe
  ppas:
    - deadsnakes/ppa
  packages:
    - python3.6
    - python3.6-dev

script:
  - ln -sv python3.6 usr/bin/python3
  - wget https://bootstrap.pypa.io/get-pip.py &&
    usr/bin/python3 get-pip.py --no-setuptools --no-wheel &&
    rm get-pip.py
  - usr/bin/python3 -m venv usr
  - usr/bin/python3 -m pip install --find-links https://extras.wxpython.org/wxPython4/extras/linux/gtk3/ubuntu-16.04 wxPython
# - usr/bin/python3 -m pip install setuptools
  - usr/bin/python3 ../../setup.py install --root .
# - ln -s /usr/local/bin/PythonTurtle ./usr/bin/
  - cp ../../pythonturtle/resources/turtle.png ./pythonturtle.png
  - cat > pythonturtle.desktop <<EOF
  - [Desktop Entry]
  - Version=1.0
  - Type=Application
  - Terminal=false
  - Name=Python Turtle
  - Exec=PythonTurtle %u
  - Icon=/pythonturtle.png
  - Comment=Learning environment for Python
  - Categories=Education;
  - EOF
# - ln -s pythonturtle.desktop ./usr/share/applications/
# - ln -s /pythonturtle.png ./usr/share/icons/
# - rm -rv PythonTurtle.egg-info
